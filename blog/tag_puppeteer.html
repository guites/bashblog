<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="main.css" type="text/css" />
<link rel="stylesheet" href="blog.css" type="text/css" />
<link rel="stylesheet" href="code.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Inscrever-se nesta página..." href="feed.rss" />
<title>Blog do guilherme &mdash; Posts marcados com "puppeteer"</title>
<meta name='twitter:card' content='summary' />
<meta name='twitter:site' content='@gui_garcia67' />
<meta name='twitter:title' content='Blog do guilherme &mdash; Posts marcados com "puppeteer"' />
<meta name='twitter:description' content=" Interceptando tokens com puppeteer   outubro 10, 2022 &mdash;  Guilherme Garcia    mg;nl: vamos ver como automatizar o login em um app e interceptar as requisições realizadas, com o objetivo de acessar os tokens gerados pelo front end de uma aplic" />
</head><body>
<div id="divbodyholder">
<div class="headerholder"><div class="header">
<div id="title">
<h1 class="nomargin"><a class="ablack" href="https://guilhermegarcia.dev/blog/index.html">Blog do guilherme</a></h1>
<div id="description">programação e outras coisas menos úteis</div>
</div></div></div>
<div id="divbody"><div class="content">
<h3><a class="ablack" href="interceptando-tokens-com-puppeteer.html">
Interceptando tokens com puppeteer
</a></h3>
<!-- bashblog_timestamp: #202210101048.57# -->
<div class="subtitle">outubro 10, 2022 &mdash; 
Guilherme Garcia
</div>
<!-- text begin -->

<p><abbr title="muito grande; nem li">mg;nl</abbr>: vamos ver como automatizar o login em um app e interceptar as requisições realizadas, com o objetivo de acessar os tokens gerados pelo front end de uma aplicação.</p>

<p>Digamos que você esteja trabalhando com uma API que exige autenticação.</p>

<p>Você consegue autenticar pelo frontend, mas gostaria de uma forma automatizada de acessar o token, para trabalhar
com as requisições pelo terminal, ou via postman/insomnia:</p>

<pre><code>    curl -X POST -H 'Bearer tokensecretogeradonofrontend' https://api-autenticada.net/resources
</code></pre>

<p>Dependendo da solução de identidade e autenticação utilizada na API, você pode tentar reproduzir as requisições e gerar o token no seu formato final.</p>

<p>Mas alguns provedores, como o <a href="https://www.okta.com/">Okta</a> ou o <a href="https://www.keycloak.org/">Keycloak</a> dificultam essa tática, pois envolvem o uso de <a href="https://pt.wikipedia.org/wiki/Nonce">nonces</a> ou processamento adicional dos valores trocados entre cliente e servidor.</p>

<p>Essas etapas são de difícil reprodução, e podem tomar muito tempo.</p>

<p>Uma alternativa é a automatização do acesso realizado no front end com um navegador <code>headless</code>, como o puppeteer.</p>

<p class="readmore"><a href="./interceptando-tokens-com-puppeteer.html">Ler mais...</a></p>
<p>Tags: <a href='tag_node.html'>node</a>, <a href='tag_puppeteer.html'>puppeteer</a>, <a href='tag_oauth2.html'>oauth2</a></p>
<p id='twitter'><a href='http://twitter.com/intent/tweet?url=https://guilhermegarcia.dev/blog/interceptando-tokens-com-puppeteer.html&text=&lt;Escreva seu comentário aqui mas mantenha a url para outras pessoas seguirem o comentário&gt;&via=gui_garcia67'>Comentários? Tweet</a> 
<a href='https://twitter.com/search?q=https://guilhermegarcia.dev/blog/interceptando-tokens-com-puppeteer.html'><span id='count-19757'></span></a>&nbsp;</p>
</div>
<div id="footer">CC by-nc-nd <a href="https://twitter.com/gui_garcia67">Guilherme Garcia</a> &mdash; <a href="mailto:gui&#46;garcia67&#64;gmail&#46;com">gui&#46;garcia67&#64;gmail&#46;com</a><br/>
Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</div>
</div></div>
</body></html>
