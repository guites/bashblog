<!DOCTYPE html>
<html lang='pt-br'><head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="stylesheet" href="global.css" type="text/css" />
<link rel="alternate" type="application/rss+xml" title="Inscrever-se nesta página..." href="feed.rss" />
<title>Blog do guilherme &mdash; Posts marcados com "bash"</title>
<meta name='description' content='Leia sobre as aventuras de Guilherme Garcia na programação e fora dela: contém tutoriais, dicas e desabafos'>
<script data-goatcounter='https://guites.goatcounter.com/count' async src='//gc.zgo.at/count.js'></script>
</head><body>
<header>
<h1>Blog do guilherme <a class="awhite" href="https://guilhermegarcia.dev/blog/index.html">#</a></h1>
<span id="description">programação e outras coisas menos úteis</span>
</header>
<main>
<article>
<h2><a class="ablack" href="servidor-http-com-netcat-e-bash.html">
Servidor HTTP com netcat e bash
</a></h2>
<!-- bashblog_timestamp: #202303121855.18# -->
<div class="subtitle">março 12, 2023 &mdash; 
Guilherme Garcia
</div>
<!-- text begin -->

<p><abbr title="muito grande; nem li">mg;nl</abbr>: Escrevi um relato dos meus estudos tentando criar um servidor com o comando <code>netcat</code> e outras ferramentas básicas do terminal, que consiga lidar com requisições GET, POST e validar o corpo das requisições.</p>

<p>Como parte de um projeto de fim de semana, precisei criar um servidor HTTP. Como estou estudando o uso da linha de comandos e scripts em bash, achei digno tentar criar um servidor que processasse o protocolo http "do zero" usando ferramentas básicas do terminal, como <code>netcat</code>, <code>read</code>, <code>mkfifo</code>, <code>sed</code>, <code>cut</code> e outros.</p>

<p>Dei uma pesquisada e achei projetos bem avançados, como o <a href="https://github.com/dfletcher/tsws">totally simple web server</a>, mas nenhum deles tinha suporte para requisições POST, para envio de informações mais complexas.</p>

<p>Decidi por fazer minha implementação com o seguinte escopo:</p>

<ol>
<li>O servidor deve processar HTTP na versão 1.1.</li>
<li>O servidor deve lidar com requisições GET e POST, e deve ser estensível para outros verbos http (PUT, PATCH, DELETE...) sem muita alteração na lógica.</li>
<li>O servidor deve ser capaz de processar o corpo das requisições e retornar respostas dinâmicas, com regra de negócio customizável.</li>
</ol>

<p>Como prova de conceito, implementei um endpoint GET que retorna um status de sucesso e um endpoint POST que recebe uma URL e verifica se ela é um link válido.</p>

<p>Você pode ver o código completo <a href="https://gist.github.com/guites/904b7ead024fbd4a2a48a769434a44f8">neste gist</a>.</p>

<p class="readmore"><a href="./servidor-http-com-netcat-e-bash.html">Ler mais...</a></p>
<p>Tags: <a href='tag_bash.html'>bash</a>, <a href='tag_http.html'>http</a></p>
</article>
<article>
<h2><a class="ablack" href="comparando-json-na-linha-de-comando.html">
Comparando json na linha de comando
</a></h2>
<!-- bashblog_timestamp: #202210252245.36# -->
<div class="subtitle">outubro 25, 2022 &mdash; 
Guilherme Garcia
</div>
<!-- text begin -->

<p><abbr title="muito grande;nem li">mg;nl</abbr>: vamos usar o <a href="https://vimdoc.sourceforge.net/htmldoc/diff.html">vimdiff</a> e o <a href="https://stedolan.github.io/jq/">jq</a> para comparar arquivos json independente da formatação.</p>

<p>Comparar arquivos json parecidos pode ser complicado. Muitas vezes os arquivos foram formatados com espaçamentos diferentes, ou a diferença não ocorre no mesmo nível hierarquico.</p>

<p>Vamos criar um script simples pra comparar arquivos json diretamente pelo terminal, usando o programa <code>jq</code> e o <code>vimdiff</code>.</p>

<p>Vamos ver também como preparar um script bash pra lidar com erros conhecidos, como arquivos com json inválido ou de outro formato.</p>

<p><aside>Os exemplos usados foram gerados usando <a href="https://json-generator.com">https://json-generator.com</a></aside></p>

<p class="readmore"><a href="./comparando-json-na-linha-de-comando.html">Ler mais...</a></p>
<p>Tags: <a href='tag_json.html'>json</a>, <a href='tag_vimdiff.html'>vimdiff</a>, <a href='tag_cli.html'>cli</a>, <a href='tag_bash.html'>bash</a></p>
</article>
<article>
<h2><a class="ablack" href="mantendo-data-de-criacao-de-arquivos-no-git.html">
Mantendo data de criação de arquivos no git
</a></h2>
<!-- bashblog_timestamp: #202202060307.55# -->
<div class="subtitle">fevereiro 06, 2022 &mdash; 
Guilherme Garcia
</div>
<!-- text begin -->

<p><abbr title="muito grande; nem li">mg;nl</abbr>: Vamos desenvolver dois scripts, um pra adicionar a data da ultima alteração de um arquivo em forma de uma timestamp, evitando que ela seja perdida quando o arquivo é copiado ou movido, e outro para ordená-los através da data presente na timestamp. </p>

<p>Se você está versionando seus arquivos com git, usando um remote como o <a href="https://about.gitlab.com/">gitlab</a>, <a href="https://github.com/">github</a> ou <a href="https://www.heroku.com/home">heroku</a>, 
já deve ter reparado que, cada vez que você clona o repositório, a data de criação e modificação dos arquivos passa pro momento que você clonou.</p>

<p>Vou apresentar nesse post os métodos que eu utilizo para persistir essa informação.</p>

<p class="readmore"><a href="./mantendo-data-de-criacao-de-arquivos-no-git.html">Ler mais...</a></p>
<p>Tags: <a href='tag_git.html'>git</a>, <a href='tag_bash.html'>bash</a></p>
</article>
<article>
<h2><a class="ablack" href="automatizando-a-geracao-de-site-map.html">
Automatizando a geração de site map
</a></h2>
<!-- bashblog_timestamp: #202202060009.53# -->
<div class="subtitle">fevereiro 06, 2022 &mdash; 
Guilherme Garcia
</div>
<!-- text begin -->

<p><abbr title="muito grande; nem li">mg;nl</abbr>: Vamos falar sobre o porquê e como adicionar um gerador de sitemap pro <a href="https://github.com/guites/bashblog">bashblog</a>, atualizado sempre que um post for adicionado, editado ou removido. </p>

<p>Neste post vamos entender a importância de utilizar um sitemap e como ele pode ser gerado "manualmente" para sites estáticos como esse blog.</p>

<p>Faço um panorama dos formatos de sitemap existente, suas diferenças, e depois proponho uma função, escrita em bash, para gerar um sitemap baseado numa listagem de arquivos html presentes num diretório. </p>

<p class="readmore"><a href="./automatizando-a-geracao-de-site-map.html">Ler mais...</a></p>
<p>Tags: <a href='tag_seo.html'>seo</a>, <a href='tag_bash.html'>bash</a>, <a href='tag_bashblog.html'>bashblog</a></p>
</article>
<article>
<h2><a class="ablack" href="coisas-que-eu-nao-sabia-sobre-bash.html">
Coisas que eu não sabia sobre bash
</a></h2>
<!-- bashblog_timestamp: #202201300148.49# -->
<div class="subtitle">janeiro 30, 2022 &mdash; 
Guilherme Garcia
</div>
<!-- text begin -->

<p><abbr title="muito grande; nem li">mg;nl</abbr>: Compilei o aqui o resultado de uma noite analisando o código fonte do <a href="https://github.com/cfenollosa/bashblog">bashblog</a>.</p>

<p>O bash tem muitas particularidades, principalmente pra quem tem um background em linguagens web. Neste post eu falo sobre:</p>

<ol>
<li>Uso de exit status como condicional</li>
<li>Redirecionamento de streams</li>
<li>Parenteses duplos para comparação numérica</li>
<li>Expansão de parametros e criação de substrings</li>
</ol>

<p>ps. com o quarto item eu consegui gerar um <a href="https://github.com/cfenollosa/bashblog/pull/168">pull request</a></p>

<p class="readmore"><a href="./coisas-que-eu-nao-sabia-sobre-bash.html">Ler mais...</a></p>
<p>Tags: <a href='tag_bash.html'>bash</a></p>
</article>
</main>
<footer id="footer"><span><small>CC by-nc-nd <a href="https://github.com/guites">Guilherme Garcia</a> &mdash; <a href="mailto:gui&#46;garcia67&#64;gmail&#46;com">gui&#46;garcia67&#64;gmail&#46;com</a></small><br/>
<small>Generated with <a href="https://github.com/cfenollosa/bashblog">bashblog</a>, a single bash script to easily create blogs like this one</small></span></footer>
</body></html>
